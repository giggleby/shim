# Copyright 2014 The Chromium OS Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

# UI (Chrome) startup parameters for factory test UI.
#
# For complete syntax, see src/platform2/login_manager/chrome_dev.conf or
# original /etc/chrome_dev.conf on DUT.

--ash-hide-notifications-for-factory
--disable-demo-mode
--disable-translate
--enable-gpu-benchmarking
--kiosk
--kiosk-mode-screensaver-path=/dev/null
--load-extension=/usr/local/factory/py/goofy/factory_test_extension
--login-user=chronos
!--login-manager

# If you find Chrome crash without dumps, uncomment following lines to disable
# sandbox for factory to capture all crash dumps. Note this will pop up a
# security warning prompt on top of browser UI.
# --no-sandbox
# --disable-seccomp-sandbox
# --disable-gpu-sandbox

# Prevent accidental navigation away from test UI via the touchscreen
--overscroll-history-navigation=0

# Always turn on remote debugging port.
--remote-debugging-port=9222

# Chrome browser does not allow the first window with pre-specified starting
# URL to capture keyboard focus any more. Until this is changed, we have to
# reload the page. Loading the extension page instead of directly URL
# (http://127.0.1:4012) solves the problem.
# See issue http://crbug.com/627372 for more information.
#
# The extension id is for factory test extension, located in
# factory/py/goofy/factory_test_extension.
chrome-extension://pngocaclmlmihmhokaeejfiklacihcmb/main.html
