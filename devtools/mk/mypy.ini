# Copyright 2023 The ChromiumOS Authors
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

[mypy]
mypy_path = $MYPY_CONFIG_FILE_DIR/../../py_pkg/
exclude = (?x)(
    ; Paths that shouldn't be checked.
    /\S+\.venv/
    | ^py_pkg/
    | ^build/
    | ^py/experimental/
    | .*_pb2.py$
    ; Paths that is not ready to be checked.
    | ^devtools/upload_reports_sftp/
    | ^doc/
    | ^go/src/overlord/
    | ^po/
    | ^py/bundle_creator/
    | ^py/cli/
    | ^py/device/
    | ^py/dkps/
    | ^py/doc/
    | ^py/dome/
    | ^py/external/
    | ^py/gooftool/
    | ^py/goofy/
    | ^py/hwid/
    | ^py/hwid_extractor/
    | ^py/instalog/
    | ^py/log_extractor/
    | ^py/multicast/
    | ^py/probe_info_service/
    | ^py/proto/
    | ^py/shopfloor/
    | ^py/test/
    | ^py/test_list_editor/
    | ^py/testlog/
    | ^py/toolkit/
    | ^py/tools/
    | ^py/umpire/
    | ^py/umpire_sync/
    | ^py/unittest_utils/
  )

warn_unused_configs = True

; Remove following configs after we fix most errors.
; Ignore all errors caused by imported files.
follow_imports = silent
allow_untyped_globals = True

[mypy-google.*]
ignore_missing_imports = True
follow_imports = skip

[mypy-jsonrpclib]
ignore_missing_imports = True

[mypy-twisted.*]
ignore_missing_imports = True

[mypy-txjsonrpc.*]
ignore_missing_imports = True

[mypy-zeep.*]
ignore_missing_imports = True
